<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Functions</title>
</head>
<body>
 <!-- Function Declaration -->

    <script>
        function showMessage() {
        console.log( 'Hello everyone!' );
        }
        showMessage();
    </script>
    <script>
        function showMessage() {
        console.log( 'Hello everyone!' );
        }

        showMessage();
        showMessage();
    </script>
<!-- 
Local variables -->
    <script>
        function showMessage() {
        let message = "Hello, I'm JavaScript!"; // local variable

        console.log( message );
        }

        showMessage(); // Hello, I'm JavaScript!

        console.log( message ); // <-- Error! The variable is local to the function

    </script>
<!-- Outer variables -->
     <script>
         let userName = 'John';

        function showMessage() {
        let message = 'Hello, ' + userName;
        console.log(message);
        }

        showMessage(); // Hello, John
     </script>

     <script>
         let userName = 'John';

        function showMessage() {
        userName = "Bob"; // (1) changed the outer variable

        let message = 'Hello, ' + userName;
        console.log(message);
        }

        console.log( userName ); // John before the function call

        showMessage();

        console.log( userName );

     </script>

    <script>
        let userName = 'John';

        function showMessage() {
        let userName = "Bob"; // declare a local variable

        let message = 'Hello, ' + userName; // Bob
        console.log(message);
        }

        // the function will create and use its own userName
        showMessage();

        console.log( userName ); // John, unchanged, the function did not access the outer variable
    </script>
<!-- 
Parameters -->
    <script>
        function showMessage(from, text) { // arguments: from, text
        console.log(from + ': ' + text);
        }

        showMessage('Ann', 'Hello!'); // Ann: Hello! (*)
        showMessage('Ann', "What's up?"); // Ann: What's up? (**)
    </script>

    <script>
        function showMessage(from, text) {

        from = '*' + from + '*'; // make "from" look nicer

        console.log( from + ': ' + text );
        }

        let from = "Ann";

        showMessage(from, "Hello"); // *Ann*: Hello

        // the value of "from" is the same, the function modified a local copy
        console.log( from ); // Ann
    </script>


<!-- Default values -->

    <script>
        function showMessage(from, text = "no text given") {
        console.log( from + ": " + text );
        }

        showMessage("Ann"); // Ann: no text given

    </script>
    <script>
        function showMessage(from, text = "no text given") {
        console.log( from + ": " + text );
        }

        showMessage("Ann", "hello"); // Ann: no text given
    </script>
    <script>
        function showMessage(text) {
        if (text === undefined) {
            text = 'empty message';
        }

        console.log(text);
        }

        showMessage(); // empty message
    </script>
    <script>
        function showMessage(text) {
        if (text === undefined) {
            text = text || 'empty';
        }

        console.log(text);
        }

        showMessage(); // empty message
    </script>
    <script>
        // if there's no "count" parameter, show "unknown"
        function showCount(count) {
        console.log(count ?? "unknown");
        }

        showCount(0); // 0
        showCount(null); // unknown
        showCount(); // unknown
    </script>

<!-- Returning a value -->
<script>
        function sum(a, b) {
        return a + b;
        }

        let result = sum(1, 2);
        console.log( result ); // 3
</script>

<script>
    function checkAge(age) {
    if (age >= 18) {
        return true;
    } else {
        return confirm('Do you have permission from your parents?');
    }
    }

    let age = prompt('How old are you?', 18);

    if ( checkAge(age) ) {
    console.log( 'Access granted' );
    } else {
    console.log( 'Access denied' );
    }
</script>
<script>
     function checkAge(age) {
    if (age >= 18) {
        return true;
    } else {
        return;
    }
    }

    let age = prompt('How old are you?', 18);

    if ( checkAge(age) ) {
    console.log( 'Access granted' );
    } else {
    console.log( 'Access denied' );
    }
</script>
<!-- Naming a function -->
<script>
    // showMessage(..)     // shows a message
// getAge(..)          // returns the age (gets it somehow)
// calcSum(..)         // calculates a sum and returns the result
// createForm(..)      // creates a form (and usually returns it)
// checkPermission(..) // checks a permission, returns true/false
</script>
<script>
    function showPrimes(n) {
  nextPrime: for (let i = 2; i < n; i++) {

    for (let j = 2; j < i; j++) {
      if (i % j == 0) continue nextPrime;
    }

    console.log( i ); // a prime
  }
}
 showPrimes(10);
</script>
</body>
</html>